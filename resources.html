<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resources</title>
    <link rel="stylesheet" href="pages.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">

</head>

<body>

    <!--navigation section-->
    <section>
        <header id="home">
            <video autoplay muted loop playsinline class="bg-video">
                <source src="media/hero-bg.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <nav class="nav">
                <div class="logo">
                    <a href="#">KSS</a>
                </div>
                <ul class="menu">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="notices.html">Notices</a></li>
                    <li><a href="resources.html">Resources</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="contact.html">Contact Us</a></li>
                </ul>
                <div class="social-icon">
                    <i class="ri-facebook-fill"></i>
                    <i class="ri-twitter-fill"></i>
                    <i class="ri-linkedin-fill"></i>
                    <i class="ri-youtube-fill"></i>
                </div>
                <div class="bars">
                    <i class="ri-menu-2-line"></i>
                </div>
            </nav>
            <div class="hero-content">
                <h2>The School Of Excellence</h2>
                <h1>Kharwastan Secondary School.<br><span id="text"></span></h1>
                <button class="about-btn" onclick="location.href='#about'">About Us</button>
            </div>
        </header>
    </section>

    <!--pastpapers section-->
    <section id="past-papers">
        <h2>Past-Papers</h2>
        <div class="navigation-buttons" id="grade-selection">
            <button onclick="selectGrade('8')">Grade 8</button>
            <button onclick="selectGrade('9')">Grade 9</button>
            <button onclick="selectGrade('10')">Grade 10</button>
            <button onclick="selectGrade('11')">Grade 11</button>
            <button onclick="selectGrade('12')">Grade 12</button>
        </div>

        <div id="subject-selection" style="display: none;">
            <h2 id="selected-grade-title"></h2>
            <div class="navigation-buttons" id="subject-buttons"></div>
        </div>

        <div id="papers-list" style="display: none;">
            <h3 id="selected-subject-title"></h3>
            <div class="navigation-controls" style="text-align: center; margin-top: 20px;">
                <button id="back-btn" class="about-btn" style="display: none;" onclick="goBack()">Back</button>
            </div>
            <div class="papers-container" id="papers-container"></div>
        </div>
    </section>

    <!-- inspirational quotes section -->
    <section id="inspirational-quotes">
        <h2>Inspirational Quotes</h2>
        <div class="quotes-container" id="quotes-container">
            <div class="quote-card active-quote">
                <p>"Education is the most powerful weapon which you can use to change the world."</p>
                <span>- Nelson Mandela</span>
            </div>
            <div class="quote-card">
                <p>"The beautiful thing about learning is that no one can take it away from you."</p>
                <span>- B.B. King</span>
            </div>
            <div class="quote-card">
                <p>"The future belongs to those who believe in the beauty of their dreams."</p>
                <span>- Eleanor Roosevelt</span>
            </div>
        </div>
    </section>

    <!-- Saturday Maths Class Section -->
    <section id="saturday-maths-class" class="saturday-maths-class">
        <h2>Saturday Maths Class</h2>
        <div class="navigation-buttons" id="saturday-grade-selection">
            <button onclick="openSaturdayClass('8')">Grade 8</button>
            <button onclick="openSaturdayClass('9')">Grade 9</button>
            <button onclick="openSaturdayClass('10')">Grade 10</button>
            <button onclick="openSaturdayClass('11')">Grade 11</button>
            <button onclick="openSaturdayClass('12')">Grade 12</button>
        </div>

        <div id="saturday-class-container" style="display: none;">
            <h3 id="saturday-selected-grade-title"></h3>
            <!-- This is where the Saturday Maths Class app content will load -->
            <div id="saturday-class-content"></div>
            <button id="saturday-back-btn" class="about-btn" onclick="closeSaturdayClass()">Back</button>
        </div>
    </section>

    <!--footer section-->
    <section>
        <footer>
            <div class="footer_container">
                <div class="footer_section">
                    <h3>Kharwastan Secondary School</h3>
                    <p>Empowering learners through excellence in education, character, and innovation.</p>
                </div>

                <div class="footer_section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#about">About</a></li>
                        <li><a href="#facilities">Facilities</a></li>
                        <li><a href="#notices">Notices</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>

                <div class="footer_section">
                    <h4>Contact Us</h4>
                    <p><i class="ri-map-pin-line"></i> 123 Kharwastan Road, Chatsworth, Durban</p>
                    <p><i class="ri-mail-line"></i> info@ksschool.co.za</p>
                    <p><i class="ri-phone-line"></i> +27 31 123 4567</p>
                </div>

                <div class="footer_section">
                    <h4>Follow Us</h4>
                    <div class="footer_socials">
                        <i class="ri-facebook-fill"></i>
                        <i class="ri-twitter-fill"></i>
                        <i class="ri-linkedin-fill"></i>
                        <i class="ri-youtube-fill"></i>
                    </div>
                </div>
            </div>
            <div class="footer_bottom">
                <p>&copy; 2025 Kharwastan Secondary School. All rights reserved.</p>
            </div>
        </footer>

    </section>

    <!-- JavaScript Libraries -->

    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>

    <script>
        // Toggle mobile menu
        const bars = document.querySelector(".bars");
        const menu = document.querySelector(".menu");

        bars.addEventListener("click", () => {
            menu.classList.toggle("active");
        });

        // Typed.js Initialization
        new Typed('#text', {
            strings: ['Resources'],
            typeSpeed: 75,
            backSpeed: 75,
            loop: true,
        });

        // Sticky navbar
        const nav = document.querySelector('nav');
        window.addEventListener('scroll', () => {
            nav.classList.toggle('sticky_nav', window.scrollY > 100);
        });

        let data = {};
        let selectedGrade = "";

        // Fetch past papers JSON data
        async function loadData() {
            try {
                const response = await fetch('past-papers.json'); // path to your JSON file
                data = await response.json();
                // After data is loaded, enable grade selection buttons (if needed)
                setupGradeButtons();
            } catch (error) {
                console.error("Failed to load papers data:", error);
            }
        }

        // Dynamically create grade buttons (optional)
        function setupGradeButtons() {
            const gradeSelection = document.getElementById("grade-selection");
            gradeSelection.innerHTML = "";
            const grades = Object.keys(data);
            grades.forEach(grade => {
                const btn = document.createElement("button");
                btn.innerText = `Grade ${grade}`;
                btn.onclick = () => selectGrade(grade);
                gradeSelection.appendChild(btn);
            });
        }

        // Highlight selected buttons
        function highlightButton(container, activeText) {
            const buttons = container.querySelectorAll("button");
            buttons.forEach(btn => {
                btn.classList.toggle("active-btn", btn.innerText === activeText);
            });
        }

        // Select Grade
        function selectGrade(grade) {
            selectedGrade = grade;

            // Hide grade buttons
            document.getElementById("grade-selection").style.display = "none";

            // Show and populate subject buttons
            const subjectButtonsContainer = document.getElementById("subject-buttons");
            subjectButtonsContainer.innerHTML = "";

            const subjects = Object.keys(data[grade]);
            subjects.forEach(subject => {
                const btn = document.createElement("button");
                btn.innerText = subject;
                btn.onclick = () => selectSubject(subject);
                subjectButtonsContainer.appendChild(btn);
            });

            document.getElementById("subject-selection").style.display = "block";
            currentStep = "subject";
            updateBackButton();
            document.getElementById("papers-list").style.display = "none";

            // Highlight selected grade button (won't be visible after hiding grades)
            highlightButton(document.getElementById("grade-selection"), `Grade ${grade}`);
        }

        // Select Subject
        function selectSubject(subject) {
            // Hide subject buttons
            document.getElementById("subject-selection").style.display = "none";

            const papers = data[selectedGrade][subject];
            const container = document.getElementById("papers-container");
            document.getElementById("selected-subject-title").innerText = `${subject} Papers`;
            container.innerHTML = "";

            if (!papers || papers.length === 0) {
                container.innerHTML = "<p>No papers available for this subject.</p>";
            } else {
                papers.forEach(paper => {
                    const card = document.createElement("div");
                    card.className = "paper-card";
                    card.innerHTML = `
                <h3>${subject}</h3>
                <p>${paper.title}</p>
                <a href="${paper.file}" target="_blank" class="about-btn">Download</a>
            `;
                    container.appendChild(card);
                });
            }

            document.getElementById("papers-list").style.display = "block";
            currentStep = "papers";
            updateBackButton();


            // Highlight selected subject button (won't be visible after hiding subjects)
            highlightButton(document.getElementById("subject-buttons"), subject);
        }

        let currentStep = "grade"; // "grade", "subject", or "papers"

        function goBack() {
            if (currentStep === "papers") {
                // Go back to subject selection
                document.getElementById("papers-list").style.display = "none";
                document.getElementById("subject-selection").style.display = "block";
                currentStep = "subject";
            } else if (currentStep === "subject") {
                // Go back to grade selection
                document.getElementById("subject-selection").style.display = "none";
                document.getElementById("grade-selection").style.display = "block";
                currentStep = "grade";
            }

            updateBackButton();
        }

        function updateBackButton() {
            const backBtn = document.getElementById("back-btn");
            backBtn.style.display = (currentStep === "subject" || currentStep === "papers") ? "inline-block" : "none";
        }

        // Load data when page loads
        window.addEventListener("DOMContentLoaded", loadData);

        function openSaturdayClass(grade) {
            // Hide grade selection buttons
            document.getElementById('saturday-grade-selection').style.display = 'none';

            // Show the container for the class content
            const container = document.getElementById('saturday-class-container');
            container.style.display = 'block';

            // Update the title to show which grade is selected
            document.getElementById('saturday-selected-grade-title').innerText = `Saturday Maths Class - Grade ${grade}`;

            // Load or display the application content for that grade
            // For demo, just showing a message - replace this with your actual app logic
            const content = document.getElementById('saturday-class-content');
            content.innerHTML = `<p>Welcome to the Saturday Maths Class for Grade ${grade}. Here, you will find all the resources and interactive lessons tailored just for you.</p>`;

            // You can enhance the above with your actual Saturday Maths app interface
        }

        function closeSaturdayClass() {
            // Hide the class container
            document.getElementById('saturday-class-container').style.display = 'none';

            // Show the grade selection buttons again
            document.getElementById('saturday-grade-selection').style.display = 'block';
        }


    </script>

</body>

</html>